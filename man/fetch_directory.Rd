% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_directory.R
\name{fetch_directory}
\alias{fetch_directory}
\title{Fetch Connecticut school directory data}
\usage{
fetch_directory(tidy = TRUE, use_cache = TRUE)
}
\arguments{
\item{tidy}{If TRUE (default), returns data in a standardized format with
consistent column names. If FALSE, returns raw column names from the API.}

\item{use_cache}{If TRUE (default), uses locally cached data when available.
Set to FALSE to force re-download.}
}
\value{
A tibble with school directory data. Columns include:
\itemize{
\item \code{state_school_id}: State organization code (7 characters)
\item \code{state_district_id}: District code derived from organization code
\item \code{school_name}: Organization/school name
\item \code{district_name}: District name
\item \code{school_type}: Type of organization (e.g., "Elementary School")
\item \code{grades_served}: Comma-separated list of grades offered
\item \code{address}: Street address
\item \code{city}: Town/city name
\item \code{state}: State (always "CT")
\item \code{zip}: ZIP code
\item \code{phone}: Phone number
\item \code{latitude}: Geographic latitude
\item \code{longitude}: Geographic longitude
\item \code{interdistrict_magnet}: Whether this is an interdistrict magnet
\item \code{student_open_date}: Date the organization opened
}
}
\description{
Downloads and processes school directory data from the Connecticut Open Data
Portal (data.ct.gov). This includes all public educational organizations
in Connecticut with address and contact information.
}
\details{
The directory data is downloaded via the Socrata API from the CT Open Data
Portal. This data represents the official listing of all public educational
organizations in Connecticut as maintained by CSDE.

Note: This data source does not include principal/superintendent names or
email addresses. For contact information, visit EdSight Find Contacts at
https://public-edsight.ct.gov/overview/find-contacts
}
\examples{
\dontrun{
# Get school directory data
dir_data <- fetch_directory()

# Get raw format (original API column names)
dir_raw <- fetch_directory(tidy = FALSE)

# Force fresh download (ignore cache)
dir_fresh <- fetch_directory(use_cache = FALSE)

# Filter to elementary schools only
library(dplyr)
elementary <- dir_data |>
  filter(grepl("Elementary", school_type))

# Find all schools in Hartford
hartford_schools <- dir_data |>
  filter(grepl("Hartford", district_name))
}
}
