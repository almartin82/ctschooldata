[{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"","what":"GIT COMMIT POLICY","title":"Claude Code Instructions","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote ","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pyctschooldata && pytest tests/test_pyctschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pyctschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"Claude Code Instructions","text":"ctschooldata provides R functions fetching Connecticut public school enrollment data Connecticut State Department Education (CSDE). Current Status: WORKS_MOSTLY - package structure complete automated data source provides limited data (see Known Issues ).","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"primary-source-edsight-requires-manual-export","dir":"","previous_headings":"Data Sources","what":"Primary Source: EdSight (Requires Manual Export)","title":"Claude Code Instructions","text":"URL: https://public-edsight.ct.gov/Students/Enrollment-Dashboard Export URL: https://public-edsight.ct.gov/Students/Enrollment-Dashboard/Public-School-Enrollment-Export Technology: Qlik Sense (requires browser interaction) Data Available: 2007-2024 (end years) Includes: Full enrollment counts, demographics, special populations, grade levels Limitation: direct API access; requires manual browser export","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"automated-source-ct-open-data-education-directory","dir":"","previous_headings":"Data Sources","what":"Automated Source: CT Open Data Education Directory","title":"Claude Code Instructions","text":"URL: https://data.ct.gov/resource/9k2y-kqxn.json Dataset ID: 9k2y-kqxn Data Available: Current year (organization list) Includes: District/school names, organization codes, grade-level offerings CRITICAL LIMITATION: Contains binary flags (0/1) grade offerings, enrollment counts","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"secondary-source-ctdataorg","dir":"","previous_headings":"Data Sources","what":"Secondary Source: CTData.org","title":"Claude Code Instructions","text":"URL: http://data.ctdata.org/dataset/student-enrollment--grade Data Available: 2007-2021 (limited coverage, ~4 charter districts) comprehensive: include CT districts","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"available-years","dir":"","previous_headings":"","what":"Available Years","title":"Claude Code Instructions","text":"2007-2024: Available via EdSight (manual export required) 2025+: Data may exist yet confirmed","code":"get_available_years()  # Returns 2007:2024"},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"available-subgroups","dir":"","previous_headings":"","what":"Available Subgroups","title":"Claude Code Instructions","text":"using EdSight data (manual export), subgroups available: - Demographics: white, black, hispanic, asian, american_indian, pacific_islander, two_or_more - Special Populations: lep (ELL), econ_disadv, special_ed - Grade Levels: PK, K, 01-12, TOTAL Current automated data provides: total_enrollment (binary grade flags)","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"critical-automated-data-source-provides-binary-flags-not-counts","dir":"","previous_headings":"Known Issues","what":"CRITICAL: Automated Data Source Provides Binary Flags, Not Counts","title":"Claude Code Instructions","text":"Education Directory API (9k2y-kqxn) package can access automatically contains: - Binary flags (0 1) indicating whether school offers grade - actual enrollment counts see n_students values 0 1, indicates package using Education Directory source.","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"no-state-level-aggregates","dir":"","previous_headings":"Known Issues","what":"No State-Level Aggregates","title":"Claude Code Instructions","text":"automated data source include state-level aggregate row. is_state always FALSE.","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"no-demographic-subgroups","dir":"","previous_headings":"Known Issues","what":"No Demographic Subgroups","title":"Claude Code Instructions","text":"automated data source includes total_enrollment subgroup (actually grade-offering flags). Race/ethnicity special population data requires EdSight export.","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"data-fidelity-requirement","dir":"","previous_headings":"","what":"Data Fidelity Requirement","title":"Claude Code Instructions","text":"CRITICAL: tidy=TRUE version MUST maintain fidelity raw, unprocessed source file. Every test verify actual values raw data appear correctly tidied output. implementing fixes improvements: 1. Always compare tidied output raw source 2. Preserve exact district/school names source 3. Preserve organization codes exactly provided 4. Document transformations applied enrollment counts","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"fixing-the-data-source","dir":"","previous_headings":"","what":"Fixing the Data Source","title":"Claude Code Instructions","text":"get real enrollment data package, implement one approaches:","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"option-1-manual-import-current-workaround","dir":"","previous_headings":"Fixing the Data Source","what":"Option 1: Manual Import (Current Workaround)","title":"Claude Code Instructions","text":"Visit https://public-edsight.ct.gov/Students/Enrollment-Dashboard/Public-School-Enrollment-Export Export data desired years Use import_local_enr() import downloaded file","code":"# Example usage enr_2024 <- import_local_enr(\"~/Downloads/CT_Enrollment_2023-24.xlsx\", end_year = 2024)"},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"option-2-browser-automation","dir":"","previous_headings":"Fixing the Data Source","what":"Option 2: Browser Automation","title":"Claude Code Instructions","text":"Implement Playwright/Selenium automation : 1. Navigate EdSight enrollment export 2. Select filters (year, format) 3. Trigger export capture downloaded file 4. Process downloaded data","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"option-3-find-alternative-api","dir":"","previous_headings":"Fixing the Data Source","what":"Option 3: Find Alternative API","title":"Claude Code Instructions","text":"Research : - EdSight undocumented API endpoint - CT Open Data portal additional enrollment datasets - CTData.org comprehensive data","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"file-structure","dir":"","previous_headings":"","what":"File Structure","title":"Claude Code Instructions","text":"","code":"ctschooldata/   R/     fetch_enrollment.R   # Main fetch functions (fetch_enr, fetch_enr_multi)     get_raw_enrollment.R # Raw data download functions     process_enrollment.R # Data processing and standardization     tidy_enrollment.R    # Wide-to-long transformation     cache.R              # Local caching functions     utils.R              # Helper utilities   tests/     testthat/       test-enrollment-data.R  # Comprehensive data tests (documents known issues)       test-fetch.R            # Function interface tests       test-utils.R            # Utility function tests       test-cache.R            # Cache function tests"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"Claude Code Instructions","text":"Run tests : Current tests document known issues message output explaining limitations.","code":"devtools::test()"},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"feature-branch--pr--auto-merge-policy","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Feature Branch + PR + Auto-Merge Policy","title":"Claude Code Instructions","text":"NEVER push directly main. changes must go PRs auto-merge:","code":"# 1. Create feature branch git checkout -b fix/description-of-change  # 2. Make changes, commit git add -A git commit -m \"Fix: description of change\"  # 3. Push and create PR with auto-merge git push -u origin fix/description-of-change gh pr create --title \"Fix: description\" --body \"Description of changes\" gh pr merge --auto --squash  # 4. Clean up stale branches after PR merges git checkout main && git pull && git fetch --prune origin"},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"branch-cleanup-required","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Branch Cleanup (REQUIRED)","title":"Claude Code Instructions","text":"Clean stale branches every time touch package:","code":"# Delete local branches merged to main git branch --merged main | grep -v main | xargs -r git branch -d  # Prune remote tracking branches git fetch --prune origin"},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"auto-merge-requirements","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Auto-Merge Requirements","title":"Claude Code Instructions","text":"PRs auto-merge CI checks pass: - R-CMD-check (0 errors, 0 warnings) - Python tests (py{st}schooldata exists) - pkgdown build (vignettes must render) CI fails, fix issue push - auto-merge triggers checks pass.","code":""},{"path":"https://almartin82.github.io/ctschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":null,"dir":"","previous_headings":"","what":"Connecticut School Data Expansion Research","title":"Connecticut School Data Expansion Research","text":"Last Updated: 2026-01-04 Theme Researched: Graduation Rates","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"executive-summary","dir":"","previous_headings":"","what":"Executive Summary","title":"Connecticut School Data Expansion Research","text":"Connecticut graduation rate data available two primary sources: 1. CTData.org (CKAN API) - Accessible, limited 2010-2019 partial district coverage 2. EdSight (Qlik Sense) - Contains current data (2024-25), requires browser interaction export primary automated source (CTData.org) stops 2018-19, leaving 5+ year data gap require either browser automation manual downloads EdSight.","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-1-ctdataorg---four-year-cohort-graduation-rates-by-all-students","dir":"","previous_headings":"Data Sources Found","what":"Source 1: CTData.org - Four Year Cohort Graduation Rates by All Students","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/5cef208b-b761-4d03-bf86-b8dd68d9855e/resource/494657f8-4e7c-4178-a6e9-52fef248f93f/download/fouryeargradrateallstudents2011-2019.csv HTTP Status: 200 OK Format: CSV (properly formatted \\n line endings) Years: 2010-2011 2018-2019 (9 years) Access: Direct download via CKAN API Coverage: INCOMPLETE - 13 districts/entities (mostly charters, full state) Geographic Level: District (school-level) CRITICAL LIMITATION: include comprehensive district coverage - appears filtered/incomplete","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-2-ctdataorg---four-year-cohort-graduation-rates-by-raceethnicity","dir":"","previous_headings":"Data Sources Found","what":"Source 2: CTData.org - Four Year Cohort Graduation Rates by Race/Ethnicity","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/a6ebce7b-73fa-48cd-82f4-56b7c44fbb38/resource/b92e7a91-f1ac-40a7-9d74-fa3b50dfab66/download/fouryeargradratebyraceethnicity2011-2019.csv HTTP Status: 200 OK Format: CSV Years: 2010-2011 2018-2019 (9 years) Access: Direct download via CKAN API Coverage: 39 districts + state total (Connecticut) Subgroups: White, Black, Hispanic, Asian, Two Races Geographic Level: State District","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-3-ctdataorg---four-year-cohort-graduation-rates-by-gender","dir":"","previous_headings":"Data Sources Found","what":"Source 3: CTData.org - Four Year Cohort Graduation Rates by Gender","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/2d83cd5c-51ec-4182-a434-249301571ead/resource/3c7a8733-1e9d-46d4-9ab6-37345f65287c/download/fouryeargradratebygender2011-2019.csv HTTP Status: 200 OK Format: CSV Years: 2010-2011 2018-2019 Subgroups: Male, Female, ","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-4-ctdataorg---four-year-cohort-graduation-rates-by-special-education-status","dir":"","previous_headings":"Data Sources Found","what":"Source 4: CTData.org - Four Year Cohort Graduation Rates by Special Education Status","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/4c3c2ea4-381e-4115-b38f-e26b1fa94ae7/resource/bd5f3eec-9921-4e7d-b088-99cbadb0811d/download/fouryeargradratebyspecialeducationstatus2011-2019.csv HTTP Status: 200 OK Format: CSV Years: 2010-2011 2018-2019 Subgroups: Special Education, Special Education, ","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-5-ctdataorg---four-year-cohort-graduation-rates-by-ell-status","dir":"","previous_headings":"Data Sources Found","what":"Source 5: CTData.org - Four Year Cohort Graduation Rates by ELL Status","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/e1cbece3-705c-4ee0-8666-606bcf100ee1/resource/838cedb0-f3d2-4659-b4d9-7aa73516b697/download/fouryeargradratebyell2011-2019.csv HTTP Status: 200 OK Format: CSV Years: 2010-2011 2018-2019 Subgroups: English Language Learner, English Language Learner, ","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-6-ctdataorg---four-year-cohort-graduation-rates-by-meal-eligibility","dir":"","previous_headings":"Data Sources Found","what":"Source 6: CTData.org - Four Year Cohort Graduation Rates by Meal Eligibility","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/four-year-grad-rates--meal-eligibility Format: CSV Years: 2010-2011 2018-2019 Subgroups: Eligible Free Meal, Eligible Reduced-Price Meal, Eligible, ","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-7-ctdataorg---comprehensive-graduation-rates-older-dataset","dir":"","previous_headings":"Data Sources Found","what":"Source 7: CTData.org - Comprehensive Graduation Rates (Older Dataset)","title":"Connecticut School Data Expansion Research","text":"URL: http://data.ctdata.org/dataset/61b0737d-683f-48c8-8f81-7669fdbacd3e/resource/1b82d65c-5fb0-45c4-ba19-1de449cead41/download/graduationrates.csv HTTP Status: 200 OK Format: CSV (uses \\r line endings - requires tr conversion) Years: 2009-2010 2013-2014 (5 years) Coverage: 22 districts + state total Contains subgroups one file: Race/Ethnicity, Gender, Special Ed, ELL, FRPM LIMITATION: Older data, ends 2013-14","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-8-edsight---four-year-graduation-rates-primary-state-source","dir":"","previous_headings":"Data Sources Found","what":"Source 8: EdSight - Four-Year Graduation Rates (Primary State Source)","title":"Connecticut School Data Expansion Research","text":"URL: https://public-edsight.ct.gov/performance/four-year-graduation-rates HTTP Status: 403 Forbidden (programmatic access blocked) Format: Excel export via browser Years: Current 2024-25 Coverage: districts schools Access: Requires browser interaction (Qlik Sense dashboard) Subgroups: demographics, high needs, ELL, SPED, race/ethnicity, gender, etc. CRITICAL: authoritative source current data","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-9-edsight---six-year-graduation-rates","dir":"","previous_headings":"Data Sources Found","what":"Source 9: EdSight - Six-Year Graduation Rates","title":"Connecticut School Data Expansion Research","text":"URL: https://public-edsight.ct.gov/performance/four-year-graduation-rates/six-year-graduation-rates HTTP Status: 403 Forbidden Format: Excel export via browser Years: Current 2024-25 Access: Requires browser interaction","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-10-datactgov---next-generation-accountability-system","dir":"","previous_headings":"Data Sources Found","what":"Source 10: data.ct.gov - Next Generation Accountability System","title":"Connecticut School Data Expansion Research","text":"URL: https://data.ct.gov/resource/h28j-iix5.json HTTP Status: 200 OK Format: JSON/CSV via Socrata API Years: 2014-15 2022-23 (7 years available) Access: Direct API access Contains: 12 accountability indicators including chronic absenteeism (ind4) Graduation Data: Indicators 8 (4-year) 9 (6-year) exist rate columns consistently present API data Geographic Level: District School NOTE: Contains graduation-related metrics comprehensive graduation rate data","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"source-11-cedar-data-tables-legacy","dir":"","previous_headings":"Data Sources Found","what":"Source 11: CEDaR Data Tables (Legacy)","title":"Connecticut School Data Expansion Research","text":"URL: https://sdeportal.ct.gov/Cedar/WEB/ct_report/DTHome.aspx Status: Partially functional (JavaScript-based navigation) Years: Historical data ~2012-13 Access: Requires browser interaction NOTE: Replaced EdSight; ZIP file downloads return 404","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"ctdataorg-csv-schema-sources-1-6","dir":"","previous_headings":"Schema Analysis","what":"CTData.org CSV Schema (Sources 1-6)","title":"Connecticut School Data Expansion Research","text":"Variable values: - Total Cohort Count (Number) - Four Year Graduation Count (Number) - Four Year Graduation Rate (Percent) - Still Enrolled Four Years Count (Number) - Still Enrolled Four Years Rate (Percent) - Count (Number) - Rate (Percent)","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"ctdataorg-comprehensive-file-schema-source-7","dir":"","previous_headings":"Schema Analysis","what":"CTData.org Comprehensive File Schema (Source 7)","title":"Connecticut School Data Expansion Research","text":"NOTE: Uses \\r (carriage return) line endings instead \\n","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"subgroup-values","dir":"","previous_headings":"Schema Analysis","what":"Subgroup Values","title":"Connecticut School Data Expansion Research","text":"Race/Ethnicity: - , White, Black, Hispanic, Asian, Native American, Hawaiian Pacific Islander, Two Races, Non Hispanic Gender: - , Male, Female Special Education: - , Special Education, Special Education English Language Learner: - , English Language Learner, English Language Learner Eligible Free Reduced-price Meals: - , Eligible Meal, Eligible Free Meal, Eligible Reduced-Price Meal, Eligible Graduation Status: - Total Cohort, Four year graduation rate, Still enrolled four years, ","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"suppression-values","dir":"","previous_headings":"Schema Analysis","what":"Suppression Values","title":"Connecticut School Data Expansion Research","text":"-6666: Insufficient data / data applicable -9999: Suppressed due small cell size (cohort < 6)","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"id-system","dir":"","previous_headings":"Schema Analysis","what":"ID System","title":"Connecticut School Data Expansion Research","text":"district codes CTData.org files - district names State-level data uses District = “Connecticut” FIPS = “9” EdSight uses organization codes (available Education Directory)","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"known-data-issues","dir":"","previous_headings":"","what":"Known Data Issues","title":"Connecticut School Data Expansion Research","text":"Line Ending Inconsistency: CTData files use \\r instead \\n Suppression Values: Must handle -6666 -9999 NA Limited District Coverage: “Students” file contains 13 districts; race/ethnicity 39 districts Year Gap: CTData stops 2018-19; current EdSight data (2024-25) 5+ years newer School-Level Data: CTData provides district state aggregates District IDs: Must match district name (fuzzy matching may needed)","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"time-series-heuristics","dir":"","previous_headings":"","what":"Time Series Heuristics","title":"Connecticut School Data Expansion Research","text":"Based 2013-2014 state totals comprehensive file: Major Districts Verify: - Hartford, New Haven, Bridgeport (urban) - Fairfield County districts (suburban) - Regional school districts Verified State Values (CTData.org): - 2018-2019: Total cohort ~41,000-43,000 - 2018-2019: State 4-year grad rate ~87-88%","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"priority-medium","dir":"","previous_headings":"Recommended Implementation","what":"Priority: MEDIUM","title":"Connecticut School Data Expansion Research","text":"data accessible significant limitations.","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"complexity-medium-hard","dir":"","previous_headings":"Recommended Implementation","what":"Complexity: MEDIUM-HARD","title":"Connecticut School Data Expansion Research","text":"API access exists historical data Current data requires browser automation manual import Multiple files must merged complete subgroup coverage","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"implementation-approach","dir":"","previous_headings":"Recommended Implementation","what":"Implementation Approach","title":"Connecticut School Data Expansion Research","text":"Option : CTData.org (Historical Data) - Pros: Fully automatable, API access works - Cons: Data ends 2018-19, incomplete district coverage Option B: EdSight + Browser Automation - Pros: Current data, complete coverage - Cons: Requires Playwright/Selenium, may break UI changes Option C: Hybrid Approach (Recommended) 1. Implement CTData.org 2010-2019 historical data 2. Add import_local_grad() manually downloaded EdSight exports 3. Future: Add browser automation EdSight resources allow","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"implementation-steps","dir":"","previous_headings":"Recommended Implementation","what":"Implementation Steps","title":"Connecticut School Data Expansion Research","text":"Create get_ctdata_graduation() internal function fetch CKAN API Create process_grad() standardize column names handle suppressions Create tidy_grad() pivot long format Create fetch_grad(end_year, tidy=TRUE) public function Create import_local_grad() EdSight Excel imports Add tests raw data fidelity","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"required-dependencies","dir":"","previous_headings":"Recommended Implementation","what":"Required Dependencies","title":"Connecticut School Data Expansion Research","text":"httr (already package) jsonlite (already package) readr (already package)","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"raw-data-fidelity-tests-needed","dir":"","previous_headings":"Test Requirements","what":"Raw Data Fidelity Tests Needed","title":"Connecticut School Data Expansion Research","text":"CTData.org race/ethnicity file (verified values): - 2018-2019: State total White cohort = 23,742 - 2018-2019: State White graduation count = 22,158 - 2013-2014: State total cohort = 43,050 - 2013-2014: State graduation rate () = 87% District-level verification: - 2018-2019: Hartford - verify cohort count grad rate match source - 2018-2019: Bridgeport - verify source","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"data-quality-checks","dir":"","previous_headings":"Test Requirements","what":"Data Quality Checks","title":"Connecticut School Data Expansion Research","text":"graduation rates 0 100 Total cohort > graduation count Graduation + Still Enrolled + = Total Cohort (approximately) negative values (handling suppressions) State total sum subgroups (within tolerance)","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"not-recommended-ncesfederal-data","dir":"","previous_headings":"Alternative Approaches Considered","what":"NOT RECOMMENDED: NCES/Federal Data","title":"Connecticut School Data Expansion Research","text":"Federal sources aggregate state data differently lose Connecticut-specific details. NEVER use primary source per project rules.","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"possible-cedar-direct-access","dir":"","previous_headings":"Alternative Approaches Considered","what":"POSSIBLE: CEDaR Direct Access","title":"Connecticut School Data Expansion Research","text":"CEDaR graduation data tables requires JavaScript navigation. legacy ZIP downloads now return 404. potentially scraped EdSight authoritative replacement.","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"possible-socrata-api-for-accountability-data","dir":"","previous_headings":"Alternative Approaches Considered","what":"POSSIBLE: Socrata API for Accountability Data","title":"Connecticut School Data Expansion Research","text":"Next Generation Accountability System dataset data.ct.gov contains graduation indicators missing comprehensive graduation rate breakdowns needed.","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"next-steps-after-implementation","dir":"","previous_headings":"","what":"Next Steps After Implementation","title":"Connecticut School Data Expansion Research","text":"Monitor CTData.org updates beyond 2018-19 Consider Playwright automation EdSight 2019-2024 gap needs filled Add six-year graduation rate support Add school-level data available via API","code":""},{"path":"https://almartin82.github.io/ctschooldata/EXPANSION.html","id":"ckan-api-reference","dir":"","previous_headings":"","what":"CKAN API Reference","title":"Connecticut School Data Expansion Research","text":"Base URL: http://data.ctdata.org/api/3/action/ Package Search: Package Show: Direct CSV Downloads:","code":"GET /package_search?q=graduation GET /package_show?id=four-year-grad-rates-by-all-students # All students \"http://data.ctdata.org/dataset/5cef208b-b761-4d03-bf86-b8dd68d9855e/resource/494657f8-4e7c-4178-a6e9-52fef248f93f/download/fouryeargradrateallstudents2011-2019.csv\"  # By race/ethnicity \"http://data.ctdata.org/dataset/a6ebce7b-73fa-48cd-82f4-56b7c44fbb38/resource/b92e7a91-f1ac-40a7-9d74-fa3b50dfab66/download/fouryeargradratebyraceethnicity2011-2019.csv\"  # By gender \"http://data.ctdata.org/dataset/2d83cd5c-51ec-4182-a434-249301571ead/resource/3c7a8733-1e9d-46d4-9ab6-37345f65287c/download/fouryeargradratebygender2011-2019.csv\"  # By special education \"http://data.ctdata.org/dataset/4c3c2ea4-381e-4115-b38f-e26b1fa94ae7/resource/bd5f3eec-9921-4e7d-b088-99cbadb0811d/download/fouryeargradratebyspecialeducationstatus2011-2019.csv\"  # By ELL \"http://data.ctdata.org/dataset/e1cbece3-705c-4ee0-8666-606bcf100ee1/resource/838cedb0-f3d2-4659-b4d9-7aa73516b697/download/fouryeargradratebyell2011-2019.csv\""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/TODO.html","id":"issue-network-timeout-during-pkgdown-build","dir":"","previous_headings":"","what":"Issue: Network timeout during pkgdown build","title":"TODO: pkgdown build issues","text":"Date: 2026-01-01 Error: pkgdown build fails network timeout trying check CRAN/Bioconductor package availability: Stack trace shows: - pkgdown:::cran_link(pkg$package) making network request - request times 10 seconds Notes: - network connectivity issue, code/data problem - vignette (vignettes/enrollment_hooks.Rmd) even reached build failed - Retry network connectivity cloud.r-project.org stable - Consider adding cran: null _pkgdown.yml skip CRAN link check persists","code":"Error: ! in callr subprocess. Caused by error in `httr2::req_perform(req)`: ! Failed to perform HTTP request. Caused by error in `curl::curl_fetch_memory()`: ! Timeout was reached [cloud.r-project.org]: Connection timed out after 10002 milliseconds"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Getting Started with ctschooldata","text":"ctschooldata package provides tools accessing Connecticut public school enrollment data Connecticut State Department Education (CSDE).","code":""},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with ctschooldata","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/ctschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"basic-usage","dir":"Articles","previous_headings":"Quick Start","what":"Basic Usage","title":"Getting Started with ctschooldata","text":"","code":"library(ctschooldata) library(dplyr)  # Check available years years <- get_available_years() print(years) # [1] 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024  # Fetch enrollment data for a single year enr_2015 <- fetch_enr(2015)  # Fetch multiple years enr_multi <- fetch_enr_multi(2010:2015)"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"understanding-the-data-structure","dir":"Articles","previous_headings":"Quick Start","what":"Understanding the Data Structure","title":"Getting Started with ctschooldata","text":"package returns tidy data frames following key columns:","code":""},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"filtering-data","dir":"Articles","previous_headings":"Quick Start","what":"Filtering Data","title":"Getting Started with ctschooldata","text":"","code":"# District totals district_totals <- enr_2015 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students))  # Grade-level enrollment for a specific district district_grades <- enr_2015 |>   filter(district_name == \"Achievement First Bridgeport Academy Inc\",          subgroup == \"total_enrollment\",          grade_level != \"TOTAL\")"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"Getting Started with ctschooldata","text":"package uses multiple data sources depending year:","code":""},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"ctdata-org-years-2007-2016","dir":"Articles","previous_headings":"Data Sources","what":"CTData.org (Years 2007-2016)","title":"Getting Started with ctschooldata","text":"years 2007-2016, package fetches actual enrollment counts CTData.org. data includes: District-level enrollment grade Approximately 6 sample districts (CT districts) Actual student counts (binary flags)","code":"# Fetch historical data with real enrollment counts enr_2015 <- fetch_enr(2015)  # Check a specific district's enrollment enr_2015 |>   filter(district_name == \"Achievement First Bridgeport Academy Inc\",          grade_level == \"TOTAL\") |>   select(district_name, grade_level, n_students)"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"ct-open-data-education-directory-years-2017","dir":"Articles","previous_headings":"Data Sources","what":"CT Open Data Education Directory (Years 2017+)","title":"Getting Started with ctschooldata","text":"years 2017 later, package falls back CT Open Data Education Directory. Important limitations: Contains binary flags (0/1) indicating whether school offers grade contain actual enrollment counts Covers CT schools districts","code":"# Check if data contains binary flags enr_2024 <- fetch_enr(2024) max(enr_2024$n_students, na.rm = TRUE)  # Will be 1 if binary flags"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"edsight-exports-manual","dir":"Articles","previous_headings":"Data Sources","what":"EdSight Exports (Manual)","title":"Getting Started with ctschooldata","text":"complete enrollment data (year), can manually export EdSight: Visit: https://public-edsight.ct.gov/Students/Enrollment-Dashboard/Public-School-Enrollment-Export Select desired year filters Export Excel Import using import_local_enr():","code":"# Import manually downloaded EdSight data enr_2024 <- import_local_enr(   \"~/Downloads/CT_Enrollment_2023-24.xlsx\",   end_year = 2024 )  # Data is cached for future use enr_2024 <- fetch_enr(2024)  # Uses cached data"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"suppression-markers","dir":"Articles","previous_headings":"Data Quality Notes","what":"Suppression Markers","title":"Getting Started with ctschooldata","text":"Connecticut uses various suppression markers small cell sizes: Text markers: *, ***, N/, <5, <10 Numeric codes: -9999, -6666 package automatically converts NA:","code":"# Suppression markers are converted to NA safe_numeric(\"-9999\")  # Returns NA safe_numeric(\"<5\")     # Returns NA safe_numeric(\"*\")      # Returns NA"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"checking-data-quality","dir":"Articles","previous_headings":"Data Quality Notes","what":"Checking Data Quality","title":"Getting Started with ctschooldata","text":"","code":"# Check if data has actual enrollment counts enr <- fetch_enr(2015)  # Real enrollment data has max > 1 max_val <- max(enr$n_students, na.rm = TRUE) if (max_val > 1) {   message(\"Data contains actual enrollment counts\") } else {   message(\"Data contains binary grade-offering flags only\") }  # Check for any remaining negative values (should be none) neg_count <- sum(enr$n_students < 0, na.rm = TRUE) stopifnot(neg_count == 0)"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache Management","title":"Getting Started with ctschooldata","text":"","code":"# View cache status cache_status()  # Clear all cached data clear_cache()  # Clear specific year clear_cache(2024)"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"year-convention","dir":"Articles","previous_headings":"","what":"Year Convention","title":"Getting Started with ctschooldata","text":"package uses end year convention: - end_year = 2024 means 2023-24 school year - end_year = 2025 means 2024-25 school year","code":"# 2023-24 school year enr_2024 <- fetch_enr(2024)  # Format for display format_school_year(2024)  # Returns \"2023-24\"  # Parse from display format parse_school_year(\"2023-24\")  # Returns 2024"},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"known-limitations","dir":"Articles","previous_headings":"","what":"Known Limitations","title":"Getting Started with ctschooldata","text":"state-level aggregates: automated sources include state-wide totals. Calculate manually needed. Limited district coverage (2007-2016): CTData.org includes approximately 6 sample districts, CT districts. Binary flags (2017+): Education Directory indicates grade offerings, actual enrollment counts. demographic breakdowns: Race/ethnicity, ELL, special education data requires manual EdSight export.","code":""},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"further-resources","dir":"Articles","previous_headings":"","what":"Further Resources","title":"Getting Started with ctschooldata","text":"EdSight Portal CT Open Data CTData.org Connecticut State Department Education","code":""},{"path":"https://almartin82.github.io/ctschooldata/articles/ctschooldata.html","id":"python-support","dir":"Articles","previous_headings":"","what":"Python Support","title":"Getting Started with ctschooldata","text":"Python wrapper also available:","code":"import pyctschooldata as ct  # Fetch data enr = ct.fetch_enr(2015)  # Get available years years = ct.get_available_years() print(f\"Data available: {years['min_year']}-{years['max_year']}\")"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"connecticut-has-lost-70000-students","dir":"Articles","previous_headings":"","what":"1. Connecticut has lost 70,000 students","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut public school enrollment peaked around 580,000 2006 declining ever since. state lost 12% student population.","code":"enr <- fetch_enr_multi(2007:2025)  state_totals <- enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) |>   mutate(change = n_students - lag(n_students),          pct_change = round(change / lag(n_students) * 100, 2))  state_totals ggplot(state_totals, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#0C2340\") +   geom_point(size = 3, color = \"#0C2340\") +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Connecticut Public School Enrollment (2007-2025)\",     subtitle = \"Steady decline has cost the state over 70,000 students\",     x = \"School Year (ending)\",     y = \"Total Enrollment\"   )"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"hartford-bridgeport-and-new-haven-anchor-urban-connecticut","dir":"Articles","previous_headings":"","what":"2. Hartford, Bridgeport, and New Haven anchor urban Connecticut","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut’s three largest cities serve 60,000 students combined, demographics challenges quite different wealthy suburbs.","code":"enr_2025 <- fetch_enr(2025)  top_cities <- enr_2025 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Hartford|Bridgeport|New Haven\", district_name)) |>   arrange(desc(n_students)) |>   select(district_name, n_students)  top_cities top_cities |>   mutate(district_name = forcats::fct_reorder(district_name, n_students)) |>   ggplot(aes(x = n_students, y = district_name, fill = district_name)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = scales::comma(n_students)), hjust = -0.1) +   scale_x_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Connecticut's Urban Core (2025)\",     subtitle = \"Hartford, Bridgeport, and New Haven serve 60,000+ students\",     x = \"Enrollment\",     y = NULL   )"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"covid-hit-connecticut-hard","dir":"Articles","previous_headings":"","what":"3. COVID hit Connecticut hard","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut lost 15,000 students 2020 2022, kindergarten seeing sharpest drops.","code":"covid_grades <- enr |>   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"06\", \"09\"),          end_year %in% 2019:2023) |>   select(end_year, grade_level, n_students) |>   pivot_wider(names_from = grade_level, values_from = n_students)  covid_grades"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"the-demographic-crossover-is-coming","dir":"Articles","previous_headings":"","what":"4. The demographic crossover is coming","title":"10 Insights from Connecticut School Enrollment Data","text":"Hispanic students now second-largest group statewide track become plurality within decade white enrollment declines.","code":"demographics <- enr_2025 |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"hispanic\", \"white\", \"black\", \"asian\", \"multiracial\")) |>   mutate(pct = round(pct * 100, 1)) |>   select(subgroup, n_students, pct) |>   arrange(desc(n_students))  demographics demographics |>   mutate(subgroup = forcats::fct_reorder(subgroup, n_students)) |>   ggplot(aes(x = n_students, y = subgroup, fill = subgroup)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = paste0(pct, \"%\")), hjust = -0.1) +   scale_x_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Connecticut Student Demographics (2025)\",     subtitle = \"Hispanic enrollment is gaining on white enrollment\",     x = \"Number of Students\",     y = NULL   )"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"fairfield-county-is-connecticuts-wealthiestand-whitest","dir":"Articles","previous_headings":"","what":"5. Fairfield County is Connecticut’s wealthiest–and whitest","title":"10 Insights from Connecticut School Enrollment Data","text":"Fairfield County districts like Greenwich, Darien, New Canaan demographics look nothing like Hartford Bridgeport, just miles away.","code":"fairfield <- enr_2025 |>   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Greenwich|Darien|New Canaan|Westport\", district_name),          subgroup %in% c(\"white\", \"hispanic\", \"black\", \"asian\")) |>   mutate(pct = round(pct * 100, 1)) |>   select(district_name, subgroup, pct) |>   pivot_wider(names_from = subgroup, values_from = pct)  fairfield enr_2025 |>   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Greenwich|Darien|New Canaan|Westport\", district_name),          subgroup %in% c(\"white\", \"hispanic\", \"black\", \"asian\")) |>   mutate(pct = round(pct * 100, 1),          district_name = gsub(\" School District\", \"\", district_name)) |>   ggplot(aes(x = district_name, y = pct, fill = subgroup)) +   geom_col(position = \"dodge\") +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Fairfield County Demographics (2025)\",     subtitle = \"Wealthy suburbs are predominantly white\",     x = NULL,     y = \"Percent of Enrollment\",     fill = \"Race/Ethnicity\"   ) +   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"magnet-schools-serve-35000-students","dir":"Articles","previous_headings":"","what":"6. Magnet schools serve 35,000+ students","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut’s extensive interdistrict magnet school program one largest nation, designed promote integration across district lines.","code":"magnets <- enr_2025 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Regional|CREC|Magnet|Interdistrict\", district_name, ignore.case = TRUE)) |>   arrange(desc(n_students)) |>   head(10) |>   select(district_name, n_students)  magnets"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"small-towns-are-losing-schools","dir":"Articles","previous_headings":"","what":"7. Small towns are losing schools","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut’s smallest districts (1,000 students) face existential questions whether can sustain comprehensive K-12 programs.","code":"small_districts <- enr_2025 |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   filter(n_students < 1000) |>   arrange(n_students) |>   head(15) |>   select(district_name, n_students)  small_districts"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"english-learners-are-8-of-enrollment","dir":"Articles","previous_headings":"","what":"8. English learners are 8% of enrollment","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut’s English learner population grown significantly, concentrated urban districts suburbs recent immigration.","code":"ell <- enr_2025 |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"lep\", \"total_enrollment\")) |>   select(subgroup, n_students, pct)  ell"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"stamford-is-connecticuts-most-diverse-large-city","dir":"Articles","previous_headings":"","what":"9. Stamford is Connecticut’s most diverse large city","title":"10 Insights from Connecticut School Enrollment Data","text":"Stamford Public Schools remarkably even distribution across racial groups, making one diverse districts New England.","code":"stamford <- enr_2025 |>   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Stamford\", district_name),          subgroup %in% c(\"hispanic\", \"white\", \"black\", \"asian\", \"multiracial\")) |>   mutate(pct = round(pct * 100, 1)) |>   select(subgroup, n_students, pct) |>   arrange(desc(pct))  stamford stamford |>   mutate(subgroup = forcats::fct_reorder(subgroup, pct)) |>   ggplot(aes(x = pct, y = subgroup, fill = subgroup)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = paste0(pct, \"%\")), hjust = -0.1) +   scale_x_continuous(expand = expansion(mult = c(0, 0.15))) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Stamford's Diverse Student Body (2025)\",     subtitle = \"One of the most diverse districts in New England\",     x = \"Percent of Enrollment\",     y = NULL   )"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"the-achievement-gap-tracks-the-demographic-divide","dir":"Articles","previous_headings":"","what":"10. The achievement gap tracks the demographic divide","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut one nation’s largest achievement gaps, mapping closely dramatic demographic differences wealthy suburbs urban cores.","code":"gap_comparison <- enr_2025 |>   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Hartford|Greenwich|Bridgeport|Darien\", district_name),          subgroup %in% c(\"total_enrollment\", \"hispanic\", \"white\", \"econ_disadv\")) |>   select(district_name, subgroup, n_students, pct) |>   pivot_wider(names_from = subgroup, values_from = c(n_students, pct))  gap_comparison"},{"path":"https://almartin82.github.io/ctschooldata/articles/enrollment_hooks.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"10 Insights from Connecticut School Enrollment Data","text":"Connecticut’s school enrollment data reveals: Long-term decline: state lost 70,000 students since peak enrollment Urban-suburban divide: Stark demographic differences cities wealthy suburbs Demographic shift: Hispanic students approaching parity white students Magnet integration: Extensive interdistrict magnet program serves 35,000+ students Small district challenges: Many towns struggle sustain K-12 programs patterns shape school funding debates ongoing Sheff v. O’Neill desegregation case across Constitution State. Data sourced Connecticut State Department Education via EdSight.","code":""},{"path":"https://almartin82.github.io/ctschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/ctschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). ctschooldata: Connecticut School Data. R package version 0.1.0, https://almartin82.github.io/ctschooldata.","code":"@Manual{,   title = {ctschooldata: Connecticut School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/ctschooldata}, }"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"ctschooldata","dir":"","previous_headings":"","what":"Connecticut School Data","title":"Connecticut School Data","text":"Fetch analyze Connecticut school enrollment data Connecticut State Department Education (CSDE) R Python. Documentation | Getting Started","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"what-can-you-find-with-ctschooldata","dir":"","previous_headings":"","what":"What can you find with ctschooldata?","title":"Connecticut School Data","text":"19 years enrollment data (2007-2025). 530,000 students across 170+ districts Constitution State. ten stories hiding numbers:","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_1-connecticut-has-lost-70000-students","dir":"","previous_headings":"What can you find with ctschooldata?","what":"1. Connecticut has lost 70,000 students","title":"Connecticut School Data","text":"Connecticut public school enrollment peaked around 580,000 2006 declining ever since. state lost 12% student population.","code":"library(ctschooldata) library(dplyr)  enr <- fetch_enr_multi(2007:2025)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   mutate(change = n_students - lag(n_students))"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_2-hartford-bridgeport-and-new-haven-anchor-urban-connecticut","dir":"","previous_headings":"What can you find with ctschooldata?","what":"2. Hartford, Bridgeport, and New Haven anchor urban Connecticut","title":"Connecticut School Data","text":"Connecticut’s three largest cities serve 60,000 students combined, demographics challenges quite different wealthy suburbs.","code":"enr_2025 <- fetch_enr(2025)  enr_2025 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Hartford|Bridgeport|New Haven\", district_name)) %>%   arrange(desc(n_students)) %>%   select(district_name, n_students)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_3-covid-hit-connecticut-hard","dir":"","previous_headings":"What can you find with ctschooldata?","what":"3. COVID hit Connecticut hard","title":"Connecticut School Data","text":"Connecticut lost 15,000 students 2020 2022, kindergarten seeing sharpest drops.","code":"enr <- fetch_enr_multi(2019:2023)  enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"06\", \"09\")) %>%   select(end_year, grade_level, n_students) %>%   tidyr::pivot_wider(names_from = grade_level, values_from = n_students)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_4-the-demographic-crossover-is-coming","dir":"","previous_headings":"What can you find with ctschooldata?","what":"4. The demographic crossover is coming","title":"Connecticut School Data","text":"Hispanic students now second-largest group statewide track become plurality within decade white enrollment declines.","code":"enr <- fetch_enr_multi(2007:2025)  enr %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"hispanic\", \"white\")) %>%   select(end_year, subgroup, n_students, pct) %>%   tidyr::pivot_wider(names_from = subgroup, values_from = c(n_students, pct))"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_5-fairfield-county-is-connecticuts-wealthiestand-whitest","dir":"","previous_headings":"What can you find with ctschooldata?","what":"5. Fairfield County is Connecticut’s wealthiest–and whitest","title":"Connecticut School Data","text":"Fairfield County districts like Greenwich, Darien, New Canaan demographics look nothing like Hartford Bridgeport, just miles away.","code":"enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Greenwich|Darien|New Canaan|Westport\", district_name),          subgroup %in% c(\"white\", \"hispanic\", \"black\", \"asian\")) %>%   mutate(pct = round(pct * 100, 1)) %>%   select(district_name, subgroup, pct) %>%   tidyr::pivot_wider(names_from = subgroup, values_from = pct)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_6-magnet-schools-serve-35000-students","dir":"","previous_headings":"What can you find with ctschooldata?","what":"6. Magnet schools serve 35,000+ students","title":"Connecticut School Data","text":"Connecticut’s extensive interdistrict magnet school program one largest nation, designed promote integration across district lines.","code":"enr_2025 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Regional|CREC|Magnet|Interdistrict\", district_name, ignore.case = TRUE)) %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, n_students)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_7-small-towns-are-losing-schools","dir":"","previous_headings":"What can you find with ctschooldata?","what":"7. Small towns are losing schools","title":"Connecticut School Data","text":"Connecticut’s smallest districts (1,000 students) face existential questions whether can sustain comprehensive K-12 programs.","code":"enr_2025 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   filter(n_students < 1000) %>%   arrange(n_students) %>%   head(15) %>%   select(district_name, n_students)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_8-english-learners-are-8-of-enrollment","dir":"","previous_headings":"What can you find with ctschooldata?","what":"8. English learners are 8% of enrollment","title":"Connecticut School Data","text":"Connecticut’s English learner population grown significantly, concentrated urban districts suburbs recent immigration.","code":"enr_2025 %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"lep\", \"total_enrollment\")) %>%   select(subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_9-stamford-is-connecticuts-most-diverse-large-city","dir":"","previous_headings":"What can you find with ctschooldata?","what":"9. Stamford is Connecticut’s most diverse large city","title":"Connecticut School Data","text":"Stamford Public Schools remarkably even distribution across racial groups, making one diverse districts New England.","code":"enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Stamford\", district_name),          subgroup %in% c(\"hispanic\", \"white\", \"black\", \"asian\", \"multiracial\")) %>%   mutate(pct = round(pct * 100, 1)) %>%   select(subgroup, n_students, pct) %>%   arrange(desc(pct))"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"id_10-the-achievement-gap-tracks-the-demographic-divide","dir":"","previous_headings":"What can you find with ctschooldata?","what":"10. The achievement gap tracks the demographic divide","title":"Connecticut School Data","text":"Connecticut one nation’s largest achievement gaps, mapping closely dramatic demographic differences wealthy suburbs urban cores.","code":"# Compare demographics between district types enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\",          grepl(\"Hartford|Greenwich|Bridgeport|Darien\", district_name),          subgroup %in% c(\"total_enrollment\", \"hispanic\", \"white\", \"econ_disadv\")) %>%   select(district_name, subgroup, n_students, pct) %>%   tidyr::pivot_wider(names_from = subgroup, values_from = c(n_students, pct))"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"enrollment-visualizations","dir":"","previous_headings":"","what":"Enrollment Visualizations","title":"Connecticut School Data","text":"See full vignette insights.","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Connecticut School Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/ctschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"r","dir":"","previous_headings":"Quick Start","what":"R","title":"Connecticut School Data","text":"","code":"library(ctschooldata) library(dplyr)  # Fetch one year enr_2025 <- fetch_enr(2025)  # Fetch multiple years enr_multi <- fetch_enr_multi(2020:2025)  # State totals enr_2025 %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  # District breakdown enr_2025 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students))  # Demographics enr_2025 %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"hispanic\", \"black\", \"asian\")) %>%   select(subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"python","dir":"","previous_headings":"Quick Start","what":"Python","title":"Connecticut School Data","text":"","code":"import pyctschooldata as ct  # Fetch 2025 data (2024-25 school year) enr = ct.fetch_enr(2025)  # Statewide total total = enr[(enr['is_state']) & (enr['subgroup'] == 'total_enrollment') & (enr['grade_level'] == 'TOTAL')]['n_students'].sum() print(f\"{total:,} students\") #> ~500,000 students  # Get multiple years enr_multi = ct.fetch_enr_multi([2020, 2021, 2022, 2023, 2024, 2025])  # Check available years years = ct.get_available_years() print(f\"Data available: {years['min_year']}-{years['max_year']}\") #> Data available: 2007-2025"},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"data-availability","dir":"","previous_headings":"","what":"Data availability","title":"Connecticut School Data","text":"Data sourced Connecticut State Department Education via EdSight CT Open Data portal.","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"whats-included","dir":"","previous_headings":"Data availability","what":"What’s included","title":"Connecticut School Data","text":"Levels: State, district (~170), school (~1,000) Demographics: White, Black, Hispanic, Asian, American Indian, Pacific Islander, Two Races Special populations: English learners, free/reduced lunch, students disabilities Grade levels: Pre-K 12","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"caveats","dir":"","previous_headings":"Data availability","what":"Caveats","title":"Connecticut School Data","text":"data may require manual export EdSight Use import_local_enr() automatic downloads fail","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"data-source","dir":"","previous_headings":"","what":"Data source","title":"Connecticut School Data","text":"Connecticut State Department Education: EdSight","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"Connecticut School Data","text":"simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"Connecticut School Data","text":"Andy Martin (almartin@gmail.com)","code":""},{"path":"https://almartin82.github.io/ctschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Connecticut School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/build_edsight_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build EdSight enrollment export URL — build_edsight_url","title":"Build EdSight enrollment export URL — build_edsight_url","text":"Constructs URL downloading enrollment data EdSight. Note: EdSight uses Qlik Sense requires browser interaction data export. function returns dashboard URL.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/build_edsight_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build EdSight enrollment export URL — build_edsight_url","text":"","code":"build_edsight_url(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/build_edsight_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build EdSight enrollment export URL — build_edsight_url","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/build_edsight_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build EdSight enrollment export URL — build_edsight_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/build_grade_span.html","id":null,"dir":"Reference","previous_headings":"","what":"Build grade span string from grade flags — build_grade_span","title":"Build grade span string from grade flags — build_grade_span","text":"Constructs grade span representation (e.g., \"K-5\", \"6-8\", \"9-12\") binary grade offering flags.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/build_grade_span.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build grade span string from grade flags — build_grade_span","text":"","code":"build_grade_span(...)"},{"path":"https://almartin82.github.io/ctschooldata/reference/build_grade_span.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build grade span string from grade flags — build_grade_span","text":"... Grade flag columns (prekindergarten grade_12)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/build_grade_span.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build grade span string from grade flags — build_grade_span","text":"Character vector grade spans","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the ctschooldata cache — clear_cache","title":"Clear the ctschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the ctschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the ctschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the ctschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the ctschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_directory_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the directory cache — clear_directory_cache","title":"Clear the directory cache — clear_directory_cache","text":"Removes cached directory data file.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_directory_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the directory cache — clear_directory_cache","text":"","code":"clear_directory_cache()"},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_directory_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the directory cache — clear_directory_cache","text":"Invisibly returns TRUE cache deleted, FALSE exist","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/clear_directory_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the directory cache — clear_directory_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear directory cache clear_directory_cache() } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/create_empty_enrollment_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty enrollment data frame — create_empty_enrollment_df","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"Returns empty data frame standard schema.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/create_empty_enrollment_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"","code":"create_empty_enrollment_df(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/create_empty_enrollment_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/create_empty_enrollment_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"Empty data frame standard columns","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"Downloads processes school data Connecticut State Department Education (CSDE). Provides functions fetching enrollment data EdSight historical archives, transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations get_available_years List available data years","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"Connecticut uses organization codes schools districts: District Codes: 7 digits (e.g., 0010011 Andover School District) School Codes: 7 digits (e.g., 0010111 Andover Elementary School)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"Data sourced Connecticut State Department Education: EdSight Portal: https://public-edsight.ct.gov/ Enrollment Dashboard: https://public-edsight.ct.gov/students/enrollment-dashboard CT Open Data: https://data.ct.gov/ Historical Archive (1996-2009): https://portal.ct.gov/sde/fiscal-services/student-counts","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":"data-availability","dir":"Reference","previous_headings":"","what":"Data Availability","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"EdSight data: 2007-2025 (school years 2006-07 2024-25) Condition Education Reports: 2004-05 2023-24 Historical PDF/Excel: 1996-2009","code":""},{"path":[]},{"path":"https://almartin82.github.io/ctschooldata/reference/ctschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ctschooldata: Fetch and Process Connecticut School Data — ctschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/detect_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect available years from EdSight — detect_available_years","title":"Detect available years from EdSight — detect_available_years","text":"Queries EdSight portal determine years data available.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/detect_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect available years from EdSight — detect_available_years","text":"","code":"detect_available_years(min_year, max_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/detect_available_years.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect available years from EdSight — detect_available_years","text":"min_year Minimum year check max_year Maximum year check","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/detect_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect available years from EdSight — detect_available_years","text":"Integer vector available years","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/directory_cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if directory cache exists and is valid — directory_cache_exists","title":"Check if directory cache exists and is valid — directory_cache_exists","text":"Check directory cache exists valid","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/directory_cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if directory cache exists and is valid — directory_cache_exists","text":"","code":"directory_cache_exists(max_age = 30)"},{"path":"https://almartin82.github.io/ctschooldata/reference/directory_cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if directory cache exists and is valid — directory_cache_exists","text":"max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/directory_cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if directory cache exists and is valid — directory_cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/download_edsight_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download enrollment data from EdSight — download_edsight_enrollment","title":"Download enrollment data from EdSight — download_edsight_enrollment","text":"Connecticut's EdSight portal provides enrollment data exports. function attempts download data via available API endpoints.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/download_edsight_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download enrollment data from EdSight — download_edsight_enrollment","text":"","code":"download_edsight_enrollment(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/download_edsight_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download enrollment data from EdSight — download_edsight_enrollment","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/download_edsight_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download enrollment data from EdSight — download_edsight_enrollment","text":"List enrollment data frames","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Connecticut school directory data — fetch_directory","title":"Fetch Connecticut school directory data — fetch_directory","text":"Downloads processes school directory data Connecticut Open Data Portal (data.ct.gov). Education Directory contains information public schools, districts, endowed academies including names, addresses, phone numbers, grade levels served, organization codes.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Connecticut school directory data — fetch_directory","text":"","code":"fetch_directory(tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Connecticut school directory data — fetch_directory","text":"tidy TRUE (default), returns data standardized column names. FALSE, returns raw API response format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download API.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Connecticut school directory data — fetch_directory","text":"Data frame directory information. tidy=TRUE, includes columns: end_year Always NA (directory data current, year-specific) state_school_id 7-digit CT organization code state_district_id 3-digit CT district code nces_school_id Always NA (source) nces_district_id Always NA (source) school_name School organization name district_name District name school_type Organization type (e.g., \"Public Schools\", \"Public School Districts\") grades_served Grade span (e.g., \"K-5\", \"9-12\") address Street address city City/town state Always \"CT\" zip ZIP code phone Phone number latitude Geographic latitude (available) longitude Geographic longitude (available) principal_name Always NA (source) principal_email Always NA (source) superintendent_name Always NA (source) superintendent_email Always NA (source)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_directory.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Fetch Connecticut school directory data — fetch_directory","text":"CT Open Data Education Directory include administrator contact information (names, emails). fields included output schema compatibility set NA.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_directory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Connecticut school directory data — fetch_directory","text":"","code":"if (FALSE) { # \\dontrun{ # Get current directory data directory <- fetch_directory()  # Get raw format directory_raw <- fetch_directory(tidy = FALSE)  # Force fresh download directory_fresh <- fetch_directory(use_cache = FALSE)  # Find all high schools high_schools <- directory |>   dplyr::filter(grepl(\"High School\", school_name)) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_education_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Connecticut education directory — fetch_education_directory","title":"Fetch Connecticut education directory — fetch_education_directory","text":"Downloads current list schools districts CT Open Data.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_education_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Connecticut education directory — fetch_education_directory","text":"","code":"fetch_education_directory()"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_education_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Connecticut education directory — fetch_education_directory","text":"Data frame organization information","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Connecticut enrollment data — fetch_enr","title":"Fetch Connecticut enrollment data — fetch_enr","text":"Downloads processes enrollment data Connecticut State Department Education (CSDE) via EdSight CT Open Data portal.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Connecticut enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Connecticut enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2007-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download CSDE.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Connecticut enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Connecticut enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to Hartford Public Schools hartford <- enr_2024 |>   dplyr::filter(grepl(\"Hartford\", district_name)) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/format_school_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Format school year string — format_school_year","title":"Format school year string — format_school_year","text":"Converts end year display format (e.g., 2024 -> \"2023-24\")","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/format_school_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format school year string — format_school_year","text":"","code":"format_school_year(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/format_school_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format school year string — format_school_year","text":"end_year School year end (e.g., 2024 2023-24)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/format_school_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format school year string — format_school_year","text":"Character string format \"YYYY-YY\"","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for Connecticut enrollment data — get_available_years","title":"Get available years for Connecticut enrollment data — get_available_years","text":"Returns range school years enrollment data available. Connecticut EdSight provides enrollment data 2007 (2006-07 school year) 2024 (2023-24 school year). function can optionally query EdSight API verify availability.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for Connecticut enrollment data — get_available_years","text":"","code":"get_available_years(check_api = TRUE)"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_available_years.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get available years for Connecticut enrollment data — get_available_years","text":"check_api TRUE (default), queries EdSight portal detect available years. FALSE, returns known historical range.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for Connecticut enrollment data — get_available_years","text":"Integer vector available school years (end year)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for Connecticut enrollment data — get_available_years","text":"","code":"get_available_years() #>  [1] 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 #> [16] 2022 2023 2024"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_directory_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get directory cache file path — get_directory_cache_path","title":"Get directory cache file path — get_directory_cache_path","text":"Get directory cache file path","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_directory_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get directory cache file path — get_directory_cache_path","text":"","code":"get_directory_cache_path()"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_directory_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get directory cache file path — get_directory_cache_path","text":"Full path directory cache file","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw directory data from CT Open Data API — get_raw_directory","title":"Get raw directory data from CT Open Data API — get_raw_directory","text":"Downloads complete Education Directory dataset data.ct.gov.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw directory data from CT Open Data API — get_raw_directory","text":"","code":"get_raw_directory()"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw directory data from CT Open Data API — get_raw_directory","text":"Raw data frame API response","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from CSDE — get_raw_enr","title":"Download raw enrollment data from CSDE — get_raw_enr","text":"Downloads district school enrollment data EdSight enrollment export. years 2007 later, uses EdSight portal.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from CSDE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from CSDE — get_raw_enr","text":"end_year School year end (2023-24 = 2024). Valid years: 2007-2025.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from CSDE — get_raw_enr","text":"List enrollment data frames organization type","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/identify_grade_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract grade columns from enrollment data — identify_grade_columns","title":"Extract grade columns from enrollment data — identify_grade_columns","text":"Identifies standardizes grade-level columns.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/identify_grade_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract grade columns from enrollment data — identify_grade_columns","text":"","code":"identify_grade_columns(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/identify_grade_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract grade columns from enrollment data — identify_grade_columns","text":"df Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/identify_grade_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract grade columns from enrollment data — identify_grade_columns","text":"List grade column names mapping","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/import_local_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Import local enrollment data file — import_local_enr","title":"Import local enrollment data file — import_local_enr","text":"Imports enrollment data locally downloaded Excel CSV file. useful data must manually exported EdSight.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/import_local_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import local enrollment data file — import_local_enr","text":"","code":"import_local_enr(file_path, end_year, tidy = TRUE, save_to_cache = TRUE)"},{"path":"https://almartin82.github.io/ctschooldata/reference/import_local_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import local enrollment data file — import_local_enr","text":"file_path Path local file (Excel CSV) end_year School year end data tidy TRUE (default), returns data tidy format save_to_cache TRUE (default), saves processed data cache","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/import_local_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import local enrollment data file — import_local_enr","text":"Processed enrollment data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/import_local_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import local enrollment data file — import_local_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Import manually downloaded EdSight export enr_2024 <- import_local_enr(   \"~/Downloads/CT_Enrollment_2023-24.xlsx\",   end_year = 2024 ) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/parse_school_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse school year string to end year — parse_school_year","title":"Parse school year string to end year — parse_school_year","text":"Converts school year string end year integer","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/parse_school_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse school year string to end year — parse_school_year","text":"","code":"parse_school_year(school_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/parse_school_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse school year string to end year — parse_school_year","text":"school_year Character string like \"2023-24\" \"2023-2024\"","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/parse_school_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse school year string to end year — parse_school_year","text":"Integer end year (e.g., 2024)","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_ctdata_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Process CTData.org enrollment data — process_ctdata_enrollment","title":"Process CTData.org enrollment data — process_ctdata_enrollment","text":"Processes enrollment data CTData.org standardized format. CTData.org provides enrollment district grade demographic breakdowns.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_ctdata_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process CTData.org enrollment data — process_ctdata_enrollment","text":"","code":"process_ctdata_enrollment(df, end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/process_ctdata_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process CTData.org enrollment data — process_ctdata_enrollment","text":"df Raw enrollment data frame CTData end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_ctdata_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process CTData.org enrollment data — process_ctdata_enrollment","text":"Processed data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process directory data to standard schema — process_directory","title":"Process directory data to standard schema — process_directory","text":"Transforms raw API response standardized format consistent column names data types.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process directory data to standard schema — process_directory","text":"","code":"process_directory(raw_df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/process_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process directory data to standard schema — process_directory","text":"raw_df Raw data frame get_raw_directory()","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process directory data to standard schema — process_directory","text":"Processed tibble standardized schema","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw enrollment data — process_enr","title":"Process raw enrollment data — process_enr","text":"Transforms raw enrollment data CSDE standardized format.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw enrollment data — process_enr","text":"raw_data List raw data frames get_raw_enr() end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw enrollment data — process_enr","text":"Processed data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_local_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Process locally imported enrollment data — process_local_enrollment","title":"Process locally imported enrollment data — process_local_enrollment","text":"Handles various formats EdSight enrollment exports.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_local_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process locally imported enrollment data — process_local_enrollment","text":"","code":"process_local_enrollment(df, end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/process_local_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process locally imported enrollment data — process_local_enrollment","text":"df Raw data frame file import end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_local_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process locally imported enrollment data — process_local_enrollment","text":"Processed data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_org_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process organization directory data — process_org_directory","title":"Process organization directory data — process_org_directory","text":"Creates enrollment structure organization directory. NOTE: processes Education Directory contains binary grade-offering flags (0 = offered, 1 = offered), actual enrollment counts.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_org_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process organization directory data — process_org_directory","text":"","code":"process_org_directory(df, end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/process_org_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process organization directory data — process_org_directory","text":"df Organization directory data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/process_org_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process organization directory data — process_org_directory","text":"Data frame grade-offering flags tidy format","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/ctschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/read_directory_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read directory data from cache — read_directory_cache","title":"Read directory data from cache — read_directory_cache","text":"Read directory data cache","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/read_directory_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read directory data from cache — read_directory_cache","text":"","code":"read_directory_cache()"},{"path":"https://almartin82.github.io/ctschooldata/reference/read_directory_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read directory data from cache — read_directory_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"CSDE CTData.org use various markers suppressed data: Text markers: *, ***, ., -, N/, NA, empty string Numeric suppression codes: -9999, -6666, -1 (used CTData.org) Small count suppressions: <5, <10","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/ctschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA suppressed/non-numeric values","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_grade.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize grade level values — standardize_grade","title":"Standardize grade level values — standardize_grade","text":"Converts various grade representations standard format.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_grade.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize grade level values — standardize_grade","text":"","code":"standardize_grade(grade)"},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_grade.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize grade level values — standardize_grade","text":"grade Character vector grade values","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_grade.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize grade level values — standardize_grade","text":"Character vector standardized grade levels","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_org_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize district/school identifiers — standardize_org_code","title":"Standardize district/school identifiers — standardize_org_code","text":"Connecticut uses 7-digit organization codes.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_org_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize district/school identifiers — standardize_org_code","text":"","code":"standardize_org_code(code)"},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_org_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize district/school identifiers — standardize_org_code","text":"code Organization code","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/standardize_org_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize district/school identifiers — standardize_org_code","text":"Standardized 7-character code","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column. Also handles data already semi-tidy format (e.g., CTData.org data n_students grade_level columns already).","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_pretidied_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy pre-tidied enrollment data — tidy_pretidied_data","title":"Tidy pre-tidied enrollment data — tidy_pretidied_data","text":"Handles data already semi-tidy format (e.g., CTData.org data).","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_pretidied_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy pre-tidied enrollment data — tidy_pretidied_data","text":"","code":"tidy_pretidied_data(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_pretidied_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy pre-tidied enrollment data — tidy_pretidied_data","text":"df Data frame n_students grade_level columns already present","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_pretidied_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy pre-tidied enrollment data — tidy_pretidied_data","text":"Standardized tidy data frame","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_wide_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy wide-format enrollment data — tidy_wide_data","title":"Tidy wide-format enrollment data — tidy_wide_data","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_wide_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy wide-format enrollment data — tidy_wide_data","text":"","code":"tidy_wide_data(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_wide_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy wide-format enrollment data — tidy_wide_data","text":"df wide data.frame demographic columns grade_XX columns","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/tidy_wide_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy wide-format enrollment data — tidy_wide_data","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ct_open_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Try fetching enrollment data from CT Open Data portal — try_ct_open_data","title":"Try fetching enrollment data from CT Open Data portal — try_ct_open_data","text":"Checks enrollment datasets data.ct.gov via Socrata API.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ct_open_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try fetching enrollment data from CT Open Data portal — try_ct_open_data","text":"","code":"try_ct_open_data(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ct_open_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Try fetching enrollment data from CT Open Data portal — try_ct_open_data","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ct_open_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Try fetching enrollment data from CT Open Data portal — try_ct_open_data","text":"Data frame NULL found","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ctdata_org.html","id":null,"dir":"Reference","previous_headings":"","what":"Try fetching enrollment data from CTData.org — try_ctdata_org","title":"Try fetching enrollment data from CTData.org — try_ctdata_org","text":"Checks enrollment datasets CTData.org via CKAN API.","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ctdata_org.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Try fetching enrollment data from CTData.org — try_ctdata_org","text":"","code":"try_ctdata_org(end_year)"},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ctdata_org.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Try fetching enrollment data from CTData.org — try_ctdata_org","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/try_ctdata_org.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Try fetching enrollment data from CTData.org — try_ctdata_org","text":"Data frame NULL found","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/ctschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/write_directory_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write directory data to cache — write_directory_cache","title":"Write directory data to cache — write_directory_cache","text":"Write directory data cache","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/write_directory_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write directory data to cache — write_directory_cache","text":"","code":"write_directory_cache(df)"},{"path":"https://almartin82.github.io/ctschooldata/reference/write_directory_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write directory data to cache — write_directory_cache","text":"df Data frame cache","code":""},{"path":"https://almartin82.github.io/ctschooldata/reference/write_directory_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write directory data to cache — write_directory_cache","text":"Invisibly returns cache path","code":""}]
